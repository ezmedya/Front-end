<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://unicons.iconscout.com/release/v4.0.0/css/line.css"
    />
  </head>
  <body>
    <ul class="sortable-list">
      <li class="item" draggable="true">
        <div class="details">
          <span>Şener Şen</span>
          <i class="uil uil-draggabledots"></i>
        </div>
      </li>
      <li class="item" draggable="true">
        <div class="details">
          <span>Haluk Bilginer</span>
          <i class="uil uil-draggabledots"></i>
        </div>
      </li>
      <li class="item" draggable="true">
        <div class="details">
          <span>Türkan Şoray</span>
          <i class="uil uil-draggabledots"></i>
        </div>
      </li>
      <li class="item" draggable="true">
        <div class="details">
          <span>Kıvanç Tatlıtuğ</span>
          <i class="uil uil-draggabledots"></i>
        </div>
      </li>
      <li class="item" draggable="true">
        <div class="details">
          <span>Cüneyt Arkın</span>
          <i class="uil uil-draggabledots"></i>
        </div>
      </li>
      <li class="item" draggable="true">
        <div class="details">
          <span>Cem Yılmaz</span>
          <i class="uil uil-draggabledots"></i>
        </div>
      </li>
    </ul>

    <script>
      const sortableList = document.querySelector(".sortable-list");
      const items = sortableList.querySelectorAll(".item");

      items.forEach((item) => {
        item.addEventListener("dragstart", () => {
          setTimeout(() => {
            item.classList.add("dragging");
          }, 0);
        });
        item.addEventListener("dragend", () => {
          item.classList.remove("dragging");
        });
      });

      const initSortableList = (e) => {
        e.preventDefault();
        const draggingItem = document.querySelector(".dragging");
        let siblings = [
          ...sortableList.querySelectorAll(".item:not(.dragging)"),
        ];

        let nextSibling = siblings.find((sibling) => {
          return e.clientY <= sibling.offsetTop + sibling.offsetHeight / 2;
        });

        sortableList.insertBefore(draggingItem, nextSibling);
      };

      sortableList.addEventListener("dragover", initSortableList);
      sortableList.addEventListener("dragenter", (e) => e.preventDefault());
    </script>
  </body>
</html>
